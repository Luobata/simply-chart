{"version":3,"file":"simply-chart.esm.js","sources":["../src/lib/interface.ts","../src/core/chart.ts","../src/lib/Vector.ts","../src/lib/help.ts","../node_modules/canvas-bezier-curve/dist/animation.esm.js","../src/core/line.ts","../src/core/bar.ts","../src/index.js"],"sourcesContent":["/**\n * @description interface\n */\nexport enum enumRenderType {\n    none = 'none',\n    point = 'point',\n    total = 'total',\n}\n\nexport class Config {\n    // basic\n    public dom: HTMLElement;\n    public width?: number = 200;\n    public height?: number = 100;\n    public renderType?: string = enumRenderType.none;\n    public renderTime?: number = 2;\n    public renderCurve?: string = 'ease-in-out';\n    public framePerSecond?: number = 60;\n\n    // attr line\n    public color?: string = 'blue';\n    public lineWidth?: number = 5;\n\n    // attr bar\n    public barWidth?: number; // bar width is computed\n    public barRadius?: number = 5;\n    public colors?: string[] = [\n        'red',\n        'orange',\n        'yellow',\n        'green',\n        'cyan',\n        'blue',\n        'purple',\n    ]; // 定义其中颜色 如果再多 考虑随机\n\n    constructor(config: IConfig) {\n        Object.assign(this, config.base);\n        Object.assign(this, config.attr);\n    }\n}\n\nexport interface IConfig {\n    base: IBaseConfig;\n    attr: ILineConfig | IBarConfig;\n}\n\nexport interface IBaseConfig {\n    dom: string | HTMLElement;\n    width?: number;\n    height?: number;\n    renderType?: string;\n    renderTime?: number;\n    renderCurve?: string;\n    framePerSecond?: number;\n}\n\nexport interface ILineConfig {\n    lineWidth?: number;\n    color?: string;\n}\n\nexport interface IBarConfig {\n    barWidth?: number;\n    barRadius?: number;\n    colors?: string[];\n}\n\nexport interface IPoint {\n    x: number;\n    y: number;\n}\n\nexport interface IPointList {\n    x: number[];\n    y: number[];\n}\n\nexport interface IRender {\n    lengthList: number[];\n    frameList: number[];\n}\n","/**\n * @desc Chart\n */\nimport { Config, enumRenderType, IConfig } from '@/lib/interface';\n\nexport default class Chart {\n    protected dom: HTMLElement;\n    protected canvas: HTMLCanvasElement;\n    protected ctx: CanvasRenderingContext2D;\n    protected animation: boolean = false;\n    protected pixelRatio: number;\n    protected margin: number = 2;\n    protected config: Config;\n\n    constructor(config: IConfig) {\n        this.config = new Config(config);\n        this.canvasInit();\n        this.animation = this.config.renderType !== enumRenderType.none;\n        this.insert();\n    }\n\n    protected insert(): void {\n        this.dom.appendChild(this.canvas);\n    }\n\n    protected reset(): void {\n        this.canvas.height = this.canvas.height;\n    }\n\n    protected axiesChange(): void {\n        this.ctx.scale(1, -1);\n        this.ctx.translate(\n            this.margin,\n            -this.config.height * this.pixelRatio + this.margin,\n        );\n    }\n\n    private canvasInit(): void {\n        if (typeof this.config.dom === 'string') {\n            this.dom = document.querySelector(this.config.dom);\n        } else {\n            this.dom = this.config.dom;\n        }\n        this.canvas = document.createElement('canvas');\n        this.ctx = this.canvas.getContext('2d');\n        this.pixelRatio = window.devicePixelRatio;\n\n        this.canvas.width = this.config.width * this.pixelRatio;\n        this.canvas.height = this.config.height * this.pixelRatio;\n\n        this.canvas.style.width = `${this.config.width}px`;\n        this.canvas.style.height = `${this.config.height}px`;\n    }\n}\n","/**\n * @description Vector\n */\nimport { IPoint } from '@/lib/interface';\n\n/**\n * default class Vector\n */\nexport default class Vector {\n    public vector: IPoint;\n    public value: number; // 向量长度\n\n    constructor(vector: IPoint) {\n        this.vector = vector;\n        this.value = this.getValue(this);\n    }\n\n    // 向量加\n    public add(vec: Vector): Vector {\n        return new Vector({\n            x: this.vector.x + vec.vector.x,\n            y: this.vector.y + vec.vector.y,\n        });\n    }\n\n    // 向量减\n    public minus(vec: Vector): Vector {\n        return new Vector({\n            x: this.vector.x - vec.vector.x,\n            y: this.vector.y - vec.vector.y,\n        });\n    }\n\n    // 向量点积\n    // 物理含义 可以用来vec 在当前向量上的投影\n    // 或者用来求两个向量的夹角\n    public dot(vec: Vector): number {\n        return this.vector.x * vec.vector.x + this.vector.y * vec.vector.y;\n    }\n\n    // 向量叉积 的值\n    // 向量叉积的返回值应该是一个向量而非值，只是方向为垂直当前二维平面，所以在二维平面中，忽略他的方向\n    // 物理含义 用来求向量围成的平行四边形的面积\n    public cross(vec: Vector): number {\n        return this.vector.x * vec.vector.y - this.vector.y * vec.vector.x;\n    }\n\n    // 向量模\n    public mod(isSqrt: boolean = true): number {\n        if (isSqrt) {\n            return Math.sqrt(\n                Math.pow(this.vector.x, 2) + Math.pow(this.vector.y, 2),\n            );\n        } else {\n            return Math.pow(this.vector.x, 2) + Math.pow(this.vector.y, 2);\n        }\n    }\n\n    // 垂直向量 默认返回单位向量\n    public vertical(): Vector {\n        return new Vector({\n            x: this.vector.y,\n            y: -this.vector.x,\n        }).normaliz();\n    }\n\n    // 向量之间夹角\n    public ankle(vec: Vector): number {\n        const result: number =\n            (Math.acos(this.dot(vec) / (this.mod() * vec.mod())) * 180) /\n            Math.PI;\n\n        return result > 180 ? result - 180 : result;\n    }\n\n    // 转化为法向量\n    public normaliz(): Vector {\n        const x: number = Math.sqrt(\n            1 / (Math.pow(this.vector.y, 2) / Math.pow(this.vector.x, 2) + 1),\n        );\n\n        return new Vector({\n            x,\n            y: x === 0 ? 1 : (this.vector.y / this.vector.x) * x,\n        });\n    }\n\n    private getValue(vec: Vector): number {\n        return Math.sqrt(Math.pow(vec.vector.x, 2) + Math.pow(vec.vector.y, 2));\n    }\n}\n","/**\n * @desc common help util\n */\n\nimport { IPoint } from '@/lib/interface';\nimport Vector from '@/lib/Vector';\n\nexport function getLength(p1: IPoint, p2: IPoint): number {\n    return new Vector({\n        x: p2.x - p1.x,\n        y: p2.y - p1.y,\n    }).value;\n}\n\nexport function getTotal(arr: number[]): number {\n    let n: number = 0;\n    arr.map((v: number) => (n += v));\n\n    return n;\n}\n","var _createClass$1 = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck$1(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// import bezierEasing from 'bezier-easing';\nvar bezierEasing = require('bezier-easing');\n// 3次贝塞尔曲线\n\nvar Bezier = function () {\n    function Bezier(p1, p2) {\n        _classCallCheck$1(this, Bezier);\n\n        this.p0 = {\n            x: 0,\n            y: 0\n        };\n        this.p3 = {\n            x: 1,\n            y: 1\n        };\n        this.p1 = p1;\n        this.p2 = p2;\n        this.bezierStr = p1.x + ', ' + p1.y + ', ' + p2.x + ', ' + p2.y;\n        this.easing = bezierEasing(p1.x, p1.y, p2.x, p2.y);\n    }\n\n    _createClass$1(Bezier, [{\n        key: 'getPoint',\n        value: function getPoint(t) {\n            return {\n                x: this.p0.x * Math.pow(1 - t, 3) + this.p1.x * t * Math.pow(1 - t, 2) * 3 + this.p2.x * Math.pow(t, 2) * (1 - t) * 3 + this.p3.x * Math.pow(t, 3),\n                y: this.p0.y * Math.pow(1 - t, 3) + this.p1.y * t * Math.pow(1 - t, 2) * 3 + this.p2.y * Math.pow(t, 2) * (1 - t) * 3 + this.p3.y * Math.pow(t, 3)\n            };\n        }\n    }, {\n        key: 'getYByTime',\n        value: function getYByTime(t) {\n            return this.easing(t);\n        }\n    }]);\n\n    return Bezier;\n}();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * @description animation module\r\n */\nvar Animation = function () {\n    /**\r\n     *\r\n     * @param begin 初始value\r\n     * @param end 最终value\r\n     * @param time 持续时间\r\n     * @param animationType 运动类型 etc:ease-in ease-out\r\n     */\n    function Animation(begin, end, time) {\n        var animationType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'liner';\n\n        _classCallCheck(this, Animation);\n\n        this.begin = begin;\n        this.end = end;\n        this.time = time;\n        this.animationType = animationType;\n        this.getBazier();\n    }\n\n    _createClass(Animation, [{\n        key: 'getValue',\n        value: function getValue(t) {\n            return this.begin + (this.end - this.begin) * this.bezier.getYByTime(t);\n        }\n    }, {\n        key: 'getList',\n        value: function getList() {\n            var framePerSecond = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 60;\n\n            var list = [];\n            for (var i = 0; i <= framePerSecond * this.time; i = i + 1) {\n                list.push(this.getValue(i / (this.time * framePerSecond)));\n            }\n            return list;\n        }\n    }, {\n        key: 'getBazier',\n        value: function getBazier() {\n            var p1 = void 0;\n            var p2 = void 0;\n            switch (this.animationType) {\n                case 'liner':\n                    p1 = {\n                        x: 0,\n                        y: 0\n                    };\n                    p2 = {\n                        x: 1,\n                        y: 1\n                    };\n                    break;\n                case 'ease':\n                    p1 = {\n                        x: 0.25,\n                        y: 0.1\n                    };\n                    p2 = {\n                        x: 0.25,\n                        y: 1\n                    };\n                    break;\n                case 'ease-in':\n                    p1 = {\n                        x: 0.42,\n                        y: 0\n                    };\n                    p2 = {\n                        x: 1,\n                        y: 1\n                    };\n                    break;\n                case 'ease-out':\n                    p1 = {\n                        x: 0,\n                        y: 0\n                    };\n                    p2 = {\n                        x: 0.58,\n                        y: 1\n                    };\n                    break;\n                case 'ease-in-out':\n                    p1 = {\n                        x: 0.42,\n                        y: 0\n                    };\n                    p2 = {\n                        x: 0.58,\n                        y: 1\n                    };\n                    break;\n                case 'in-back-out':\n                    p1 = {\n                        x: 0.68,\n                        y: -0.55\n                    };\n                    p2 = {\n                        x: 0.27,\n                        y: 1.55\n                    };\n                    break;\n                default:\n                    // point str\n                    var strArr = this.animationType.split(',');\n                    if (!strArr || strArr.length !== 4) {\n                        throw new Error('The animation type is not right');\n                    }\n                    p1 = {\n                        x: parseFloat(strArr[0]),\n                        y: parseFloat(strArr[1])\n                    };\n                    p2 = {\n                        x: parseFloat(strArr[2]),\n                        y: parseFloat(strArr[3])\n                    };\n            }\n            this.bezier = new Bezier(p1, p2);\n        }\n    }]);\n\n    return Animation;\n}();\n\nexport default Animation;\n//# sourceMappingURL=animation.esm.js.map\n","/**\n * @description line chart (折线图)\n */\n\nimport Chart from '@/core/chart';\nimport { getLength, getTotal } from '@/lib/help';\nimport { enumRenderType, IConfig, IPoint, IRender } from '@/lib/interface';\nimport Animation from 'canvas-bezier-curve';\n\nexport default class Line extends Chart {\n    private data: number[];\n\n    private pointList: IPoint[] = [];\n    private renderAttr: IRender = {\n        lengthList: [],\n        frameList: [],\n    };\n\n    constructor(config: IConfig) {\n        super(config);\n    }\n\n    public update(data: number[]): Line {\n        this.data = data;\n\n        const marginX: number =\n            (this.config.width - this.margin * 2) / (this.data.length - 1);\n        const maxY: number = Math.max(...this.data);\n        const minY: number = Math.min(...this.data);\n        const rateY: number =\n            maxY !== minY\n                ? (this.config.height - this.margin * 2) / (maxY - minY)\n                : 1;\n        const pointList: IPoint[] = [];\n        const lengthList: number[] = [];\n        let frameList: number[] = [];\n        let last: number = 0;\n\n        for (let i: number = 0; i < this.data.length; i = i + 1) {\n            const p: IPoint = {\n                x: i * marginX * this.pixelRatio,\n                y: (this.data[i] - minY) * rateY * this.pixelRatio,\n            };\n            pointList.push(p);\n        }\n\n        if (this.animation) {\n            for (let i: number = 1; i < pointList.length; i = i + 1) {\n                lengthList.push(getLength(pointList[i - 1], pointList[i]));\n                if (this.config.renderType === enumRenderType.point) {\n                    frameList = frameList.concat(\n                        new Animation(\n                            last,\n                            lengthList[i - 1] + last,\n                            this.config.renderTime / pointList.length,\n                            this.config.renderCurve,\n                        ).getList(this.config.framePerSecond),\n                    );\n                    last += lengthList[i - 1];\n                }\n            }\n            if (this.config.renderType === enumRenderType.total) {\n                frameList = new Animation(\n                    0,\n                    getTotal(lengthList),\n                    this.config.renderTime,\n                    this.config.renderCurve,\n                ).getList(this.config.framePerSecond);\n            }\n            this.renderAttr.lengthList = lengthList;\n            this.renderAttr.frameList = frameList;\n        }\n\n        this.pointList = pointList;\n\n        return this;\n    }\n\n    public render(): Line {\n        this.reset();\n        this.ctx.save();\n        this.axiesChange();\n        this.ctx.lineCap = 'round';\n        this.ctx.strokeStyle = this.config.color;\n        this.ctx.lineWidth = this.config.lineWidth;\n        this.ctx.beginPath();\n        if (this.config.renderType === enumRenderType.none) {\n            for (const p of this.pointList) {\n                this.ctx.lineTo(p.x, p.y);\n            }\n        } else if (this.config.renderType === enumRenderType.point) {\n            this.frameRender(this.renderAttr);\n        } else if (this.config.renderType === enumRenderType.total) {\n            this.frameRender(this.renderAttr);\n        }\n\n        this.ctx.stroke();\n        this.ctx.closePath();\n        this.ctx.restore();\n\n        return this;\n    }\n\n    private frameRender(obj: IRender): void {\n        requestAnimationFrame(() => {\n            if (!obj.frameList.length) {\n                return;\n            }\n            const len: number = obj.frameList.shift();\n            const p: IPoint[] = this.getPointByFrame(len, obj.lengthList);\n\n            this.reset();\n            this.ctx.lineCap = 'round';\n            this.ctx.strokeStyle = this.config.color;\n            this.ctx.lineWidth = this.config.lineWidth;\n            this.axiesChange();\n            this.ctx.beginPath();\n\n            for (const i of p) {\n                this.ctx.lineTo(i.x, i.y);\n            }\n            this.ctx.stroke();\n            this.ctx.closePath();\n            this.ctx.restore();\n            if (obj.frameList.length) {\n                this.frameRender(obj);\n            }\n        });\n    }\n\n    private getPointByFrame(len: number, list: number[]): IPoint[] {\n        let index!: number;\n        let last: number = 0;\n\n        // 找到对应的片段 比如 找到 index 0 那这个点就在 Point 0 1 之间\n        for (let i: number = 0; i < list.length; i = i + 1) {\n            if (len <= list[i] + last) {\n                index = i;\n                break;\n            } else {\n                last += list[i];\n            }\n        }\n\n        const val: number = list[index];\n        const rate: number = (len - last) / val;\n\n        return this.pointList.slice(0, index + 1).concat({\n            x:\n                this.pointList[index].x +\n                (this.pointList[index + 1].x - this.pointList[index].x) * rate,\n            y:\n                this.pointList[index].y +\n                (this.pointList[index + 1].y - this.pointList[index].y) * rate,\n        });\n    }\n}\n","/**\n * @desc bar chart (柱状图)\n */\n\nimport Chart from '@/core/chart';\nimport { enumRenderType, IConfig } from '@/lib/interface';\nimport Animation from 'canvas-bezier-curve';\n\ninterface IBarRender {\n    frameList: number[][];\n}\n\nexport default class Bar extends Chart {\n    private data: number[] = [];\n    private heightList: number[] = [];\n\n    private renderAttr: IBarRender = {\n        frameList: [],\n    };\n\n    constructor(config: IConfig) {\n        super(config);\n    }\n\n    public update(data: number[]): Bar {\n        this.data = data;\n\n        const maxBarWidth: number =\n            (this.config.width - data.length - 1) / data.length;\n        const aveBarWidth: number = this.config.width / (data.length * 2 + 1);\n        if (this.config.barWidth) {\n            if (this.config.barWidth > maxBarWidth) {\n                this.config.barWidth = maxBarWidth;\n            }\n        } else {\n            this.config.barWidth = aveBarWidth;\n        }\n        const maxY: number = Math.max(...this.data);\n        const minY: number = 0;\n        const rateY: number =\n            maxY !== minY\n                ? (this.config.height - this.margin * 2) / (maxY - minY)\n                : 1;\n\n        // tslint:disable prefer-for-of\n        for (let i: number = 0; i < this.data.length; i = i + 1) {\n            if (rateY === 1 && maxY === 0) {\n                // this.heightList.push((this.config.height - minY) / 2);\n                this.heightList.push(1);\n            } else {\n                this.heightList.push((this.data[i] - minY) * rateY);\n            }\n            if (this.config.renderType === enumRenderType.total) {\n                this.renderAttr.frameList.push(\n                    new Animation(\n                        0,\n                        this.heightList[i],\n                        this.config.renderTime,\n                        this.config.renderCurve,\n                    ).getList(this.config.framePerSecond),\n                );\n            }\n        }\n        // tslint:enable prefer-for-of\n\n        return this;\n    }\n\n    public render(): Bar {\n        if (this.config.renderType === enumRenderType.none) {\n            this.renderWidthNoFrame();\n        } else if (this.config.renderType === enumRenderType.total) {\n            this.renderWidthFrame();\n        }\n\n        return this;\n    }\n\n    private renderWidthNoFrame(): void {\n        this.reset();\n        this.ctx.save();\n        this.axiesChange();\n\n        for (let i: number = 0; i < this.heightList.length; i = i + 1) {\n            this.ctx.beginPath();\n            this.ctx.fillStyle = this.config.colors[i];\n            this.renderRadius(\n                this.config.barWidth * (i * 2 + 1) * this.pixelRatio,\n                0,\n                this.config.barWidth * this.pixelRatio,\n                this.heightList[i] * this.pixelRatio,\n            );\n            // this.ctx.fillRect(\n            //     this.config.barWidth * (i * 2 + 1) * this.pixelRatio,\n            //     0,\n            //     this.config.barWidth * this.pixelRatio,\n            //     this.heightList[i] * this.pixelRatio,\n            // );\n            this.ctx.closePath();\n        }\n\n        this.ctx.restore();\n    }\n\n    private renderWidthFrame(): void {\n        requestAnimationFrame(() => {\n            this.reset();\n            this.ctx.save();\n            this.axiesChange();\n\n            for (let i: number = 0; i < this.heightList.length; i = i + 1) {\n                this.ctx.beginPath();\n                this.ctx.fillStyle = this.config.colors[i];\n                this.renderRadius(\n                    this.config.barWidth * (i * 2 + 1) * this.pixelRatio,\n                    0,\n                    this.config.barWidth * this.pixelRatio,\n                    this.renderAttr.frameList[i].shift() * this.pixelRatio,\n                );\n                // this.ctx.fillRect(\n                //     this.config.barWidth * (i * 2 + 1) * this.pixelRatio,\n                //     0,\n                //     this.config.barWidth * this.pixelRatio,\n                //     this.renderAttr.frameList[i].shift() * this.pixelRatio,\n                // );\n                this.ctx.closePath();\n            }\n\n            this.ctx.restore();\n\n            if (this.renderAttr.frameList[0].length) {\n                this.renderWidthFrame();\n            }\n        });\n    }\n\n    private renderRadius(\n        x: number,\n        y: number,\n        width: number,\n        height: number,\n    ): void {\n        const min: number = Math.min(width, height);\n        const radius: number =\n            this.config.barRadius > min / 2 ? min : this.config.barRadius;\n        this.ctx.moveTo(x, y);\n        this.ctx.lineTo(x, y + height - radius);\n        this.ctx.arc(\n            x + radius,\n            y + height - radius,\n            radius,\n            Math.PI * 0,\n            Math.PI * 0.5,\n            true,\n        );\n        this.ctx.lineTo(x + width - radius, y + height);\n        this.ctx.arc(\n            x + width - radius,\n            y + height - radius,\n            radius,\n            Math.PI * 1.5,\n            Math.PI * 2,\n            true,\n        );\n        this.ctx.lineTo(x + width, y);\n        this.ctx.fill();\n    }\n}\n","/**\n * @description entry\n */\nimport line from '@/core/line';\nimport bar from '@/core/bar';\n\nexport default {\n    line,\n    bar,\n};\n"],"names":["enumRenderType","config","none","assign","base","attr","Config","canvasInit","animation","renderType","insert","dom","appendChild","canvas","height","ctx","scale","translate","margin","pixelRatio","document","querySelector","createElement","getContext","window","devicePixelRatio","width","style","vector","value","getValue","vec","Vector","x","y","isSqrt","Math","sqrt","pow","normaliz","result","acos","dot","mod","PI","p1","p2","arr","n","map","v","_createClass$1","_classCallCheck$1","_createClass","_classCallCheck","data","marginX","length","maxY","max","minY","min","rateY","pointList","lengthList","frameList","last","i","p","push","getLength","point","concat","Animation","renderTime","renderCurve","getList","framePerSecond","total","getTotal","renderAttr","reset","save","axiesChange","lineCap","strokeStyle","color","lineWidth","beginPath","lineTo","frameRender","stroke","closePath","restore","obj","len","shift","getPointByFrame","list","index","val","rate","slice","Chart","maxBarWidth","aveBarWidth","barWidth","heightList","renderWidthNoFrame","renderWidthFrame","fillStyle","colors","renderRadius","radius","barRadius","moveTo","arc","fill"],"mappings":"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"}