{"version":3,"file":"simply-chart.esm.js","sources":["../src/lib/interface.ts","../src/lib/hook.ts","../src/core/chart.ts","../src/lib/Vector.ts","../src/lib/help.ts","../node_modules/canvas-bezier-curve/dist/animation.esm.js","../src/lib/geometric/bezier-smooth.ts","../src/lib/geometric/catmull-rom.ts","../src/core/line.ts","../src/core/bar.ts","../src/core/pie.ts","../src/core/radius.ts","../src/index.js"],"sourcesContent":["/**\n * @description interface\n */\nexport enum enumRenderType {\n    none = 'none',\n    point = 'point',\n    total = 'total',\n}\n\n// basic chart cofnig\nexport interface IBaseConfig {\n    dom?: string | HTMLElement;\n    canvas?: HTMLCanvasElement;\n    width?: number;\n    height?: number;\n    innerWidth?: number;\n    innerHeight?: number;\n    padding?: number;\n    renderType?: string;\n    renderTime?: number;\n    renderCurve?: string;\n    framePerSecond?: number;\n}\n\ntype ChartConf<T> = {\n    base: IBaseConfig;\n    attr: T;\n};\n\ntype ChartConfig<T> = IBaseConfig & T;\n\n// line config\nexport interface ILine {\n    lineWidth?: number;\n    color?: string;\n    point?: boolean;\n    pointRadius?: number;\n    pointFill?: boolean;\n    smooth?: boolean;\n    shadowColor?: string;\n}\n\n// line config for input\nexport type ILineConf = ChartConf<ILine>;\n\n// line conifg for module Line\nexport type ILineConfig = ChartConfig<ILine>;\n\n// bar config\nexport interface IBar {\n    barWidth?: number;\n    barRadius?: number;\n    colors?: string[];\n}\n\n// bar cofnig for input\nexport type IBarConf = ChartConf<IBar>;\n\n// bar config for module Bar\nexport type IBarConfig = ChartConfig<IBar>;\n\nexport interface IPie {\n    // 颜色\n    colors?: string[];\n    // 是否实心 true 实心\n    fill?: boolean;\n}\n\nexport type IPieConf = ChartConf<IPie>;\n\nexport type IPieConfig = ChartConfig<IPie>;\n\nexport interface IRadius {\n    // 颜色\n    color: string;\n    // 圈颜色\n    pieColor: string;\n}\n\nexport type IRadiusConf = ChartConf<IRadius>;\n\nexport type IRadiusConfig = ChartConfig<IRadius>;\n\nexport interface IPoint {\n    x: number;\n    y: number;\n}\n\nexport interface IPointList {\n    x: number[];\n    y: number[];\n}\n\nexport interface IRender {\n    lengthList: number[];\n    frameList: number[];\n}\n\nexport type IConfig = ILineConfig | IBarConfig | IPieConfig | IRadiusConfig;\nexport type IConf = ILineConf | IBarConf | IPieConf | IRadiusConf;\nexport type IBase = ILine | IBar | IPie | IRadius;\n","/**\n * @description hook\n */\n\n// tslint:disable no-any no-unsafe-any\n\nimport Chart from '@/core/chart';\n\nexport const hookName: string = '__DATA_DEBUGGER_DEVTOOLS_GLOBAL_HOOK__';\nexport const hook: any = window ? (<any>window)[hookName] : '';\n\nlet hasInstall: boolean = false;\nlet debuggerMode: boolean = true;\nconst debuggerData: Chart[] = [];\n\nexport const disableDebug: Function = (): void => {\n    debuggerMode = false;\n};\n\nexport const hookInstall: Function = (): void => {\n    if (hook && !hasInstall) {\n        hook.emit('install');\n        hasInstall = true;\n    }\n};\n\nexport const setDebuggerData: Function = (): void => {\n    if (debuggerMode || !window) {\n        if ((<any>window).__Canvas_Screen_Data) {\n            return;\n        }\n        (<any>window).__Canvas_Screen_Data = debuggerData;\n    }\n};\n\nexport const hookDispatch: Function = (): void => {\n    if (!debuggerMode || !hook) {\n        return;\n    }\n\n    setDebuggerData();\n    hook.emit('refresh');\n};\n\nexport const addDebuggerData: Function = (obj: Chart): void => {\n    const item: Chart = obj;\n    let fItem: Chart = debuggerData.find((v: Chart) => v.id === item.id);\n    if (!fItem) {\n        debuggerData.push(item);\n    } else {\n        fItem = obj;\n    }\n    hookDispatch();\n};\n\nexport const deleteDebuggerData: Function = (obj: Chart): void => {\n    for (let i: number = 0; i < debuggerData.length; ) {\n        if (debuggerData[i].id === obj.id) {\n            debuggerData.splice(i, 1);\n        } else {\n            i = i + 1;\n        }\n    }\n};\n","/**\n * @desc Chart\n */\nimport {\n    enumRenderType,\n    IBase,\n    IBaseConfig,\n    IConf,\n    IConfig,\n} from '@/lib/interface';\nimport { addDebuggerData, hookInstall } from 'Lib/hook';\n\nconst baseDefault: IBaseConfig = {\n    // dom: '',\n    width: 200,\n    height: 100,\n    padding: 10,\n    renderType: enumRenderType.none,\n    renderTime: 2,\n    renderCurve: 'ease-in-out',\n    framePerSecond: 60,\n};\n\nlet id: number = 0;\n\n/**\n * default class\n */\nexport default class Chart {\n    public id: number;\n    public name: string;\n\n    protected dom: HTMLElement;\n    protected canvas: HTMLCanvasElement;\n    protected ctx: CanvasRenderingContext2D;\n    protected animation: boolean = false;\n    protected pixelRatio: number;\n    protected config: IConfig;\n\n    constructor(config: IConf, defaultConf: IBase) {\n        this.config = {\n            ...baseDefault,\n            ...defaultConf,\n            ...config.base,\n            ...config.attr,\n        };\n\n        this.config.innerWidth = this.config.width - this.config.padding * 2;\n        this.config.innerHeight = this.config.height - this.config.padding * 2;\n        // this.config = new Config(config);\n        this.canvasInit();\n        this.animation = this.config.renderType !== enumRenderType.none;\n        this.insert();\n\n        this.getName();\n        hookInstall();\n        addDebuggerData(this);\n    }\n\n    protected insert(): void {\n        this.dom.appendChild(this.canvas);\n    }\n\n    protected reset(): void {\n        this.canvas.height = this.canvas.height;\n    }\n\n    protected axiesChange(): void {\n        // 重新处理这段 没有居中\n        this.ctx.scale(1, -1);\n        this.ctx.translate(\n            this.config.padding * this.pixelRatio,\n            (-this.config.height + this.config.padding) * this.pixelRatio,\n        );\n    }\n\n    private canvasInit(): void {\n        if (this.config.dom === undefined) {\n            // for test ?\n            this.dom = document.createElement('div');\n            document.body.appendChild(this.dom);\n        } else if (typeof this.config.dom === 'string') {\n            this.dom = document.querySelector(this.config.dom);\n        } else {\n            this.dom = this.config.dom;\n        }\n        this.canvas = this.config.canvas || document.createElement('canvas');\n        this.ctx = this.canvas.getContext('2d');\n        this.pixelRatio = window.devicePixelRatio;\n\n        this.canvas.width = this.config.width * this.pixelRatio;\n        this.canvas.height = this.config.height * this.pixelRatio;\n\n        this.canvas.style.width = `${this.config.width}px`;\n        this.canvas.style.height = `${this.config.height}px`;\n    }\n\n    private getName(): void {\n        this.id = id;\n        id = id + 1;\n        this.name = `${this.constructor.name}_${this.id}`;\n    }\n}\n","/**\n * @description Vector\n */\nimport { IPoint } from '@/lib/interface';\n\n/**\n * default class Vector\n */\nexport default class Vector {\n    public vector: IPoint;\n    public value: number; // 向量长度\n\n    constructor(vector: IPoint) {\n        this.vector = vector;\n        this.value = this.getValue(this);\n    }\n\n    // 向量加\n    public add(vec: Vector): Vector {\n        return new Vector({\n            x: this.vector.x + vec.vector.x,\n            y: this.vector.y + vec.vector.y,\n        });\n    }\n\n    // 向量减\n    public minus(vec: Vector): Vector {\n        return new Vector({\n            x: this.vector.x - vec.vector.x,\n            y: this.vector.y - vec.vector.y,\n        });\n    }\n\n    // 向量点积\n    // 物理含义 可以用来vec 在当前向量上的投影\n    // 或者用来求两个向量的夹角\n    public dot(vec: Vector): number {\n        return this.vector.x * vec.vector.x + this.vector.y * vec.vector.y;\n    }\n\n    // 向量叉积 的值\n    // 向量叉积的返回值应该是一个向量而非值，只是方向为垂直当前二维平面，所以在二维平面中，忽略他的方向\n    // 物理含义 用来求向量围成的平行四边形的面积\n    public cross(vec: Vector): number {\n        return this.vector.x * vec.vector.y - this.vector.y * vec.vector.x;\n    }\n\n    // 向量模\n    public mod(isSqrt: boolean = true): number {\n        if (isSqrt) {\n            return Math.sqrt(\n                Math.pow(this.vector.x, 2) + Math.pow(this.vector.y, 2),\n            );\n        } else {\n            return Math.pow(this.vector.x, 2) + Math.pow(this.vector.y, 2);\n        }\n    }\n\n    // 垂直向量 默认返回单位向量\n    public vertical(): Vector {\n        return new Vector({\n            x: this.vector.y,\n            y: -this.vector.x,\n        }).normaliz();\n    }\n\n    // 向量之间夹角\n    public ankle(vec: Vector): number {\n        const result: number =\n            (Math.acos(this.dot(vec) / (this.mod() * vec.mod())) * 180) /\n            Math.PI;\n\n        return result > 180 ? result - 180 : result;\n    }\n\n    // 转化为法向量\n    public normaliz(): Vector {\n        const x: number = Math.sqrt(\n            1 / (Math.pow(this.vector.y, 2) / Math.pow(this.vector.x, 2) + 1),\n        );\n\n        return new Vector({\n            x,\n            y: x === 0 ? 1 : (this.vector.y / this.vector.x) * x,\n        });\n    }\n\n    private getValue(vec: Vector): number {\n        return Math.sqrt(Math.pow(vec.vector.x, 2) + Math.pow(vec.vector.y, 2));\n    }\n}\n","/**\n * @desc common help util\n */\n\nimport { IPoint } from '@/lib/interface';\nimport Vector from '@/lib/Vector';\n\nexport function getLength(p1: IPoint, p2: IPoint): number {\n    return new Vector({\n        x: p2.x - p1.x,\n        y: p2.y - p1.y,\n    }).value;\n}\n\nexport function getTotal(arr: number[]): number {\n    let n: number = 0;\n    arr.map((v: number) => (n += v));\n\n    return n;\n}\n","var _createClass$1 = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck$1(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// import bezierEasing from 'bezier-easing';\nvar bezierEasing = require('bezier-easing');\n// 3次贝塞尔曲线\n\nvar Bezier = function () {\n    function Bezier(p1, p2) {\n        _classCallCheck$1(this, Bezier);\n\n        this.p0 = {\n            x: 0,\n            y: 0\n        };\n        this.p3 = {\n            x: 1,\n            y: 1\n        };\n        this.p1 = p1;\n        this.p2 = p2;\n        this.bezierStr = p1.x + ', ' + p1.y + ', ' + p2.x + ', ' + p2.y;\n        this.easing = bezierEasing(p1.x, p1.y, p2.x, p2.y);\n    }\n\n    _createClass$1(Bezier, [{\n        key: 'getPoint',\n        value: function getPoint(t) {\n            return {\n                x: this.p0.x * Math.pow(1 - t, 3) + this.p1.x * t * Math.pow(1 - t, 2) * 3 + this.p2.x * Math.pow(t, 2) * (1 - t) * 3 + this.p3.x * Math.pow(t, 3),\n                y: this.p0.y * Math.pow(1 - t, 3) + this.p1.y * t * Math.pow(1 - t, 2) * 3 + this.p2.y * Math.pow(t, 2) * (1 - t) * 3 + this.p3.y * Math.pow(t, 3)\n            };\n        }\n    }, {\n        key: 'getYByTime',\n        value: function getYByTime(t) {\n            return this.easing(t);\n        }\n    }]);\n\n    return Bezier;\n}();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * @description animation module\r\n */\nvar Animation = function () {\n    /**\r\n     *\r\n     * @param begin 初始value\r\n     * @param end 最终value\r\n     * @param time 持续时间\r\n     * @param animationType 运动类型 etc:ease-in ease-out\r\n     */\n    function Animation(begin, end, time) {\n        var animationType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'liner';\n\n        _classCallCheck(this, Animation);\n\n        this.begin = begin;\n        this.end = end;\n        this.time = time;\n        this.animationType = animationType;\n        this.getBazier();\n    }\n\n    _createClass(Animation, [{\n        key: 'getValue',\n        value: function getValue(t) {\n            return this.begin + (this.end - this.begin) * this.bezier.getYByTime(t);\n        }\n    }, {\n        key: 'getList',\n        value: function getList() {\n            var framePerSecond = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 60;\n\n            var list = [];\n            for (var i = 0; i <= framePerSecond * this.time; i = i + 1) {\n                list.push(this.getValue(i / (this.time * framePerSecond)));\n            }\n            return list;\n        }\n    }, {\n        key: 'getBazier',\n        value: function getBazier() {\n            var p1 = void 0;\n            var p2 = void 0;\n            switch (this.animationType) {\n                case 'liner':\n                    p1 = {\n                        x: 0,\n                        y: 0\n                    };\n                    p2 = {\n                        x: 1,\n                        y: 1\n                    };\n                    break;\n                case 'ease':\n                    p1 = {\n                        x: 0.25,\n                        y: 0.1\n                    };\n                    p2 = {\n                        x: 0.25,\n                        y: 1\n                    };\n                    break;\n                case 'ease-in':\n                    p1 = {\n                        x: 0.42,\n                        y: 0\n                    };\n                    p2 = {\n                        x: 1,\n                        y: 1\n                    };\n                    break;\n                case 'ease-out':\n                    p1 = {\n                        x: 0,\n                        y: 0\n                    };\n                    p2 = {\n                        x: 0.58,\n                        y: 1\n                    };\n                    break;\n                case 'ease-in-out':\n                    p1 = {\n                        x: 0.42,\n                        y: 0\n                    };\n                    p2 = {\n                        x: 0.58,\n                        y: 1\n                    };\n                    break;\n                case 'in-back-out':\n                    p1 = {\n                        x: 0.68,\n                        y: -0.55\n                    };\n                    p2 = {\n                        x: 0.27,\n                        y: 1.55\n                    };\n                    break;\n                default:\n                    // point str\n                    var strArr = this.animationType.split(',');\n                    if (!strArr || strArr.length !== 4) {\n                        throw new Error('The animation type is not right');\n                    }\n                    p1 = {\n                        x: parseFloat(strArr[0]),\n                        y: parseFloat(strArr[1])\n                    };\n                    p2 = {\n                        x: parseFloat(strArr[2]),\n                        y: parseFloat(strArr[3])\n                    };\n            }\n            this.bezier = new Bezier(p1, p2);\n        }\n    }]);\n\n    return Animation;\n}();\n\nexport default Animation;\n//# sourceMappingURL=animation.esm.js.map\n","/**\n * @desc smooth line generator wit beziur\n * doc: https://wenku.baidu.com/view/19682071f242336c1eb95e47.html\n */\n\nimport { IPoint } from '@/lib/interface';\n\nexport default (path: IPoint[]): IPoint[][] => {\n    return getBezierList(path);\n};\n\nfunction getControl(P0: IPoint, P1: IPoint, P2: IPoint, P3: IPoint): IPoint[] {\n    const rate1: number = 0.25;\n    const rate2: number = 0.25;\n\n    return [\n        P1,\n        {\n            x: P1.x + rate1 * (P2.x - P0.x),\n            y: P1.y + rate1 * (P2.y - P0.y),\n        },\n        {\n            x: P2.x - rate2 * (P3.x - P1.x),\n            y: P2.y - rate2 * (P3.y - P1.y),\n        },\n        P2,\n    ];\n}\n\nfunction getBezierList(path: IPoint[]): IPoint[][] {\n    const length: number = path.length;\n    const outPath: IPoint[][] = [];\n\n    for (let i: number = 0; i < length - 1; i += 1) {\n        const controlP: IPoint[] = getControl(\n            path[Math.max(0, i - 1)], // safe array steps\n            path[i],\n            path[Math.min(i + 1, length - 1)], // safe Array steps\n            path[Math.min(i + 2, length - 1)], // safe Array steps\n        );\n\n        outPath.push(controlP); //store each value\n    }\n\n    return outPath;\n}\n","/**\n * @desc Splines, Catmull-Rom algorithm for smooth movement\n * wiki: http://www.dxstudio.com/guide_content.aspx?id=70a2b2cf-193e-4019-859c-28210b1da81f\n * for get smooth line points\n */\n\nimport { IPoint } from '@/lib/interface';\nimport Vector from 'Lib/Vector';\n\nexport default (path: IPoint[], frame: number): IPoint[] => {\n    return savePathCatmullRom(path, frame).map(\n        (v: Vector): IPoint => {\n            return v.vector;\n        },\n    );\n};\n\nfunction interpolatedPosition(\n    P0: IPoint,\n    P1: IPoint,\n    P2: IPoint,\n    P3: IPoint,\n    u: number,\n): Vector {\n    // exp: Catmull-Rom interpolation\n\n    const u3: number = u * u * u;\n\n    const u2: number = u * u;\n\n    const f1: number = u3 * -0.5 + u2 - u * 0.5;\n\n    const f2: number = u3 * 1.5 - u2 * 2.5 + 1;\n\n    const f3: number = u3 * -1.5 + u2 * 2 + u * 0.5;\n\n    const f4: number = u3 * 0.5 - u2 * 0.5;\n\n    const x: number = P0.x * f1 + P1.x * f2 + P2.x * f3 + P3.x * f4;\n\n    const y: number = P0.y * f1 + P1.y * f2 + P2.y * f3 + P3.y * f4;\n\n    return new Vector({\n        x,\n        y,\n    });\n}\n\nlet nodesLeft: number = 0;\n\n// main function to calculate the Path\nfunction savePathCatmullRom(path: IPoint[], frame: number): Vector[] {\n    if (!path) {\n        return;\n    }\n\n    const length: number = path.length;\n    const outPath: Vector[] = [];\n\n    for (let i: number = 0; i < length - 1; i += 1) {\n        // var ui = 0;\n\n        for (let u: number = 0; u < 1; u += 1 / frame) {\n            // var vec = new Vector();\n\n            const vec: Vector = interpolatedPosition(\n                //call to Catmull-Rom\n                path[Math.max(0, i - 1)], // safe array steps\n                path[i],\n                path[Math.min(i + 1, length - 1)], // safe Array steps\n                path[Math.min(i + 2, length - 1)], // safe Array steps\n                u,\n            );\n\n            outPath.push(vec); //store each value\n            nodesLeft += 1; // increment node counter\n            // ui++;\n        }\n    }\n\n    return outPath;\n}\n","/**\n * @description line chart (折线图)\n */\n\nimport Chart from '@/core/chart';\nimport { getLength, getTotal } from '@/lib/help';\nimport {\n    enumRenderType,\n    ILineConf,\n    ILineConfig,\n    IPoint,\n    IRender,\n} from '@/lib/interface';\nimport Animation from 'canvas-bezier-curve';\nimport bezierSmooth from 'Lib/geometric/bezier-smooth';\nimport catmullRom from 'Lib/geometric/catmull-rom';\n\nenum smoothType {\n    catumulRom = 'catumulRom',\n    bezierSmooth = 'bezierSmooth',\n}\n\n/**\n * default class\n */\nexport default class Line extends Chart {\n    public config: ILineConfig;\n    private data: number[];\n\n    private pointList: IPoint[] = [];\n    private renderAttr: IRender = {\n        lengthList: [],\n        frameList: [],\n    };\n\n    private smoothType: smoothType = smoothType.catumulRom;\n\n    constructor(config: ILineConf) {\n        super(config, {\n            color: 'blue',\n            lineWidth: 5,\n            point: false,\n            pointRadius: 3,\n            pointFill: false,\n            smooth: false,\n            shadowColor: '',\n        });\n    }\n\n    public point(): Line {\n        this.config.point = true;\n\n        return this;\n    }\n\n    public fill(): Line {\n        this.config.pointFill = true;\n\n        return this;\n    }\n\n    public update(data: number[]): Line {\n        this.data = data;\n        // 长度为1 默认打开point\n        if (this.data.length === 1) {\n            this.point();\n            this.fill();\n        }\n\n        const marginX: number =\n            this.data.length !== 1\n                ? this.config.innerWidth / (this.data.length - 1)\n                : this.config.innerWidth / 2;\n        const maxY: number = Math.max(...this.data);\n        const minY: number = Math.min(...this.data);\n        const rateY: number =\n            maxY !== minY ? this.config.innerHeight / (maxY - minY) : 1;\n        const pointList: IPoint[] = [];\n        const lengthList: number[] = [];\n        let frameList: number[] = [];\n        let last: number = 0;\n\n        for (let i: number = 0; i < this.data.length; i = i + 1) {\n            const p: IPoint = {\n                x: i * marginX * this.pixelRatio,\n                y: (this.data[i] - minY) * rateY * this.pixelRatio,\n            };\n            pointList.push(p);\n        }\n\n        if (this.animation) {\n            for (let i: number = 1; i < pointList.length; i = i + 1) {\n                lengthList.push(getLength(pointList[i - 1], pointList[i]));\n                if (this.config.renderType === enumRenderType.point) {\n                    frameList = frameList.concat(\n                        new Animation(\n                            last,\n                            lengthList[i - 1] + last,\n                            this.config.renderTime / pointList.length,\n                            this.config.renderCurve,\n                        ).getList(this.config.framePerSecond),\n                    );\n                    last += lengthList[i - 1];\n                }\n            }\n            if (this.config.renderType === enumRenderType.total) {\n                frameList = new Animation(\n                    0,\n                    getTotal(lengthList),\n                    this.config.renderTime,\n                    this.config.renderCurve,\n                ).getList(this.config.framePerSecond);\n            }\n            this.renderAttr.lengthList = lengthList;\n            this.renderAttr.frameList = frameList;\n        }\n\n        this.pointList = pointList;\n\n        return this;\n    }\n\n    public render(): Line {\n        if (this.config.renderType === enumRenderType.none) {\n            this.renderNoAnimation();\n        } else if (this.config.renderType === enumRenderType.point) {\n            this.frameRender(this.renderAttr);\n        } else if (this.config.renderType === enumRenderType.total) {\n            this.frameRender(this.renderAttr);\n        }\n\n        return this;\n    }\n\n    private renderStrike(pL: IPoint[]): void {\n        this.ctx.lineCap = 'round';\n        this.ctx.lineWidth = this.config.lineWidth;\n\n        if (this.config.shadowColor) {\n            // 补齐三条边\n            // 最低点取决于线条宽度，如果线条宽度过粗，可能会导致最低点跳出页面\n            const min: number = 1 - this.config.lineWidth;\n            this.ctx.beginPath();\n            this.ctx.strokeStyle = this.config.shadowColor;\n            this.ctx.moveTo(pL[0].x, pL[0].y);\n            this.ctx.lineTo(0, min);\n            this.ctx.lineTo(pL[pL.length - 1].x, min);\n            this.ctx.lineTo(pL[pL.length - 1].x, pL[pL.length - 1].y);\n            this.ctx.stroke();\n            this.ctx.closePath();\n        }\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = this.config.color;\n        this.ctx.moveTo(pL[0].x, pL[0].y);\n        for (let i: number = 1; i < pL.length; i = i + 1) {\n            const p: IPoint = pL[i];\n            // for (const p of pL) {\n            this.ctx.lineTo(p.x, p.y);\n        }\n\n        this.ctx.stroke();\n        this.ctx.closePath();\n    }\n\n    private renderFill(pL: IPoint[]): void {\n        if (!this.config.shadowColor) {\n            return;\n        }\n        this.ctx.beginPath();\n        this.ctx.fillStyle = this.config.shadowColor;\n        this.ctx.moveTo(0, 0);\n        for (const p of pL) {\n            this.ctx.lineTo(p.x, p.y);\n        }\n        this.ctx.lineTo(pL[pL.length - 1].x, 0);\n        this.ctx.fill();\n        this.ctx.closePath();\n    }\n\n    private renderNoAnimation(): void {\n        this.reset();\n        this.axiesChange();\n        this.ctx.save();\n        this.ctx.beginPath();\n        let pList!: IPoint[];\n        if (this.config.smooth) {\n            const pL: IPoint[] = catmullRom(this.pointList, 100);\n            pList = pL;\n        } else {\n            pList = this.pointList;\n        }\n\n        // render border 与fill区域 区分为了边界没有border\n        this.renderFill(pList);\n        this.renderStrike(pList);\n\n        this.ctx.closePath();\n        this.ctx.restore();\n        for (const p of this.pointList) {\n            this.renderPoint(p);\n        }\n    }\n\n    private frameRender(obj: IRender): void {\n        requestAnimationFrame(() => {\n            if (!obj.frameList.length) {\n                return;\n            }\n            const len: number = obj.frameList.shift();\n            const p: IPoint[] = this.getPointByFrame(len, obj.lengthList);\n            let pList!: IPoint[];\n\n            this.reset();\n            this.axiesChange();\n            this.ctx.save();\n            this.ctx.beginPath();\n\n            if (this.config.smooth) {\n                // catmull-rom geomatric is smooth but becauese the chage of the last point\n                // the line will change with time\n                if (this.smoothType === smoothType.catumulRom) {\n                    const pL: IPoint[] = catmullRom(p, 100);\n                    pList = pL;\n                } else if (this.smoothType === smoothType.bezierSmooth) {\n                    const pL: IPoint[][] = bezierSmooth(p);\n                    this.ctx.moveTo(p[0].x, p[0].y);\n                    for (const i of pL) {\n                        this.ctx.bezierCurveTo(\n                            i[1].x,\n                            i[1].y,\n                            i[2].x,\n                            i[2].y,\n                            i[3].x,\n                            i[3].y,\n                        );\n                    }\n                    // pList = pL;\n                }\n            } else {\n                pList = p;\n            }\n\n            this.renderFill(pList);\n            this.renderStrike(pList);\n\n            this.ctx.closePath();\n            this.ctx.restore();\n            for (const i of p) {\n                this.renderPoint(i);\n            }\n            if (obj.frameList.length) {\n                this.frameRender(obj);\n            }\n        });\n    }\n\n    private renderPoint(p: IPoint): void {\n        if (!this.config.point) {\n            return;\n        }\n        const radius: number = this.config.pointRadius * this.pixelRatio;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.arc(p.x, p.y, radius, 0, Math.PI * 2);\n        if (this.config.pointFill) {\n            this.ctx.fillStyle = this.config.color;\n            this.ctx.fill();\n        } else {\n            this.ctx.lineWidth = this.config.lineWidth;\n            this.ctx.strokeStyle = this.config.color;\n            this.ctx.stroke();\n            this.ctx.fillStyle = '#fff';\n            this.ctx.fill();\n        }\n        this.ctx.closePath();\n        this.ctx.restore();\n    }\n\n    private getPointByFrame(len: number, list: number[]): IPoint[] {\n        let index!: number;\n        let last: number = 0;\n\n        // 找到对应的片段 比如 找到 index 0 那这个点就在 Point 0 1 之间\n        for (let i: number = 0; i < list.length; i = i + 1) {\n            if (len <= list[i] + last) {\n                index = i;\n                break;\n            } else {\n                last += list[i];\n            }\n        }\n\n        const val: number = list[index];\n        const rate: number = (len - last) / val;\n\n        return this.pointList.slice(0, index + 1).concat({\n            x:\n                this.pointList[index].x +\n                (this.pointList[index + 1].x - this.pointList[index].x) * rate,\n            y:\n                this.pointList[index].y +\n                (this.pointList[index + 1].y - this.pointList[index].y) * rate,\n        });\n    }\n}\n","/**\n * @desc bar chart (柱状图)\n */\n\nimport Chart from '@/core/chart';\nimport { enumRenderType, IBarConf, IBarConfig } from '@/lib/interface';\nimport Animation from 'canvas-bezier-curve';\n\ninterface IBarRender {\n    frameList: number[][];\n}\n\n/**\n * default class\n */\nexport default class Bar extends Chart {\n    public config: IBarConfig;\n\n    private data: number[] = [];\n    private heightList: number[] = [];\n\n    private renderAttr: IBarRender = {\n        frameList: [],\n    };\n\n    constructor(config: IBarConf) {\n        super(config, {\n            barRadius: 5,\n            colors: [\n                'red',\n                'orange',\n                'yellow',\n                'green',\n                'cyan',\n                'blue',\n                'purple',\n            ],\n        });\n    }\n\n    public update(data: number[]): Bar {\n        this.data = data;\n\n        const maxBarWidth: number =\n            (this.config.innerWidth - data.length - 1) / data.length;\n        const aveBarWidth: number =\n            this.config.innerWidth / (data.length * 2 + 1);\n        if (this.config.barWidth) {\n            if (this.config.barWidth > maxBarWidth) {\n                this.config.barWidth = maxBarWidth;\n            }\n        } else {\n            this.config.barWidth = aveBarWidth;\n        }\n        const maxY: number = Math.max(...this.data);\n        const minY: number = 0;\n        const rateY: number =\n            maxY !== minY ? this.config.innerHeight / (maxY - minY) : 1;\n\n        // tslint:disable prefer-for-of\n        for (let i: number = 0; i < this.data.length; i = i + 1) {\n            if (rateY === 1 && maxY === 0) {\n                // this.heightList.push((this.config.height - minY) / 2);\n                this.heightList.push(1);\n            } else {\n                this.heightList.push((this.data[i] - minY) * rateY);\n            }\n            if (this.config.renderType === enumRenderType.total) {\n                this.renderAttr.frameList.push(\n                    new Animation(\n                        0,\n                        this.heightList[i],\n                        this.config.renderTime,\n                        this.config.renderCurve,\n                    ).getList(this.config.framePerSecond),\n                );\n            }\n        }\n        // tslint:enable prefer-for-of\n\n        return this;\n    }\n\n    public render(): Bar {\n        if (this.config.renderType === enumRenderType.none) {\n            this.renderWidthNoFrame();\n        } else if (this.config.renderType === enumRenderType.total) {\n            this.renderWidthFrame();\n        }\n\n        return this;\n    }\n\n    private renderWidthNoFrame(): void {\n        this.reset();\n        this.ctx.save();\n        this.axiesChange();\n\n        for (let i: number = 0; i < this.heightList.length; i = i + 1) {\n            this.ctx.beginPath();\n            this.ctx.fillStyle = this.config.colors[i];\n            this.renderRadius(\n                this.config.barWidth * (i * 2 + 1) * this.pixelRatio,\n                0,\n                this.config.barWidth * this.pixelRatio,\n                this.heightList[i] * this.pixelRatio,\n            );\n            this.ctx.closePath();\n        }\n\n        this.ctx.restore();\n    }\n\n    private renderWidthFrame(): void {\n        requestAnimationFrame(() => {\n            this.reset();\n            this.ctx.save();\n            this.axiesChange();\n\n            for (let i: number = 0; i < this.heightList.length; i = i + 1) {\n                this.ctx.beginPath();\n                this.ctx.fillStyle = this.config.colors[i];\n                this.renderRadius(\n                    this.config.barWidth * (i * 2 + 1) * this.pixelRatio,\n                    0,\n                    this.config.barWidth * this.pixelRatio,\n                    this.renderAttr.frameList[i].shift() * this.pixelRatio,\n                );\n                this.ctx.closePath();\n            }\n\n            this.ctx.restore();\n\n            if (this.renderAttr.frameList[0].length) {\n                this.renderWidthFrame();\n            }\n        });\n    }\n\n    private renderRadius(\n        x: number,\n        y: number,\n        width: number,\n        height: number,\n    ): void {\n        const min: number = Math.min(width, height);\n        const radius: number =\n            this.config.barRadius > min / 2 ? min / 2 : this.config.barRadius;\n        this.ctx.moveTo(x, y);\n        this.ctx.lineTo(x, y + height - radius);\n        this.ctx.arc(\n            x + radius,\n            y + height - radius,\n            radius,\n            Math.PI * 0,\n            Math.PI * 0.5,\n            true,\n        );\n        this.ctx.lineTo(x + width - radius, y + height);\n        this.ctx.arc(\n            x + width - radius,\n            y + height - radius,\n            radius,\n            Math.PI * 1.5,\n            Math.PI * 2,\n            true,\n        );\n        this.ctx.lineTo(x + width, y);\n        this.ctx.fill();\n    }\n}\n","/**\n * @desc pie chart (饼图)\n */\n\nimport Chart from '@/core/chart';\nimport { enumRenderType, IPieConf, IPieConfig, IPoint } from '@/lib/interface';\nimport Animation from 'canvas-bezier-curve';\n\ninterface IPieData {\n    start: number;\n    end: number;\n    x: number;\n    y: number;\n}\n\n/**\n * default class\n */\nexport default class Pie extends Chart {\n    public config: IPieConfig;\n\n    private data: number[] = [];\n    private renderData: IPieData[] = [];\n    private renderFrameData: IPieData[][] = [];\n    private center: IPoint;\n    private pieWidth: number;\n    private pieCircularWidth: number = 10;\n\n    constructor(config: IPieConf) {\n        super(config, {\n            colors: [\n                'red',\n                'orange',\n                'yellow',\n                'green',\n                'cyan',\n                'blue',\n                'purple',\n            ],\n            fill: false,\n        });\n    }\n\n    public update(data: number[]): Pie {\n        this.data = data;\n        this.renderData = [];\n        this.renderFrameData = [];\n        this.center = {\n            x: (this.config.width / 2 - this.config.padding) * this.pixelRatio,\n            y: (this.config.height / 2 - this.config.padding) * this.pixelRatio,\n        };\n        this.pieWidth =\n            (Math.min(this.config.width, this.config.height) / 2 -\n                this.config.padding) *\n            this.pixelRatio;\n\n        // 如果pieCircleWidh比pieWidth小 取其一半\n        this.pieCircularWidth =\n            (this.pieWidth < this.pieCircularWidth\n                ? this.pieWidth / 2\n                : this.pieCircularWidth) * this.pixelRatio;\n        const total: number = data.reduce(\n            (a: number, b: number): number => a + b,\n        );\n\n        const items: number[][] = [];\n\n        data.map(\n            (v: number): void => {\n                const last: IPieData | null = this.renderData.length\n                    ? this.renderData[this.renderData.length - 1]\n                    : null;\n                const start: number = last ? last.end : 0;\n                const end: number = start + (v / total) * Math.PI * 2;\n\n                this.renderData.push({\n                    start: start,\n                    end: end,\n                    x: !last\n                        ? this.center.x + this.pieWidth\n                        : this.center.x + this.pieWidth * Math.cos(last.end),\n                    y: !last\n                        ? this.center.y\n                        : this.center.y + this.pieWidth * Math.sin(last.end),\n                });\n                if (this.config.renderType === enumRenderType.point) {\n                    const item: number[] = new Animation(\n                        start,\n                        end,\n                        this.config.renderTime,\n                        this.config.renderCurve,\n                    ).getList(this.config.framePerSecond);\n                    items.push(item);\n                }\n            },\n        );\n\n        if (items.length) {\n            // enumRenderType.point\n            for (let j: number = 0; j < items[0].length; j = j + 1) {\n                const item: IPieData[] = [];\n                for (let i: number = 0; i < items.length; i = i + 1) {\n                    item.push({\n                        ...this.renderData[i],\n                        end: items[i][j],\n                    });\n                }\n                this.renderFrameData.push(item);\n            }\n        }\n\n        if (this.config.renderType === enumRenderType.total) {\n            const item: number[] = new Animation(\n                0,\n                Math.PI * 2,\n                this.config.renderTime,\n                this.config.renderCurve,\n            ).getList(this.config.framePerSecond);\n            item.map(\n                (v: number): void => {\n                    const t: IPieData[] = [];\n                    for (const i of this.renderData) {\n                        if (i.end <= v) {\n                            t.push(i);\n                        } else {\n                            t.push({\n                                ...i,\n                                end: v,\n                            });\n                            break;\n                        }\n                    }\n                    this.renderFrameData.push(t);\n                },\n            );\n        }\n\n        return this;\n    }\n\n    public render(): Pie {\n        if (this.config.renderType === enumRenderType.none) {\n            this.renderWithNoFrame();\n        } else if (this.config.renderType === enumRenderType.point) {\n            this.renderWithFrame();\n        } else if (this.config.renderType === enumRenderType.total) {\n            this.renderWithFrame();\n        }\n\n        return this;\n    }\n\n    private renderWithNoFrame(\n        data: IPieData[] = this.renderData,\n        fn?: Function,\n    ): void {\n        this.reset();\n        this.ctx.save();\n        this.axiesChange();\n\n        for (let i: number = 0; i < data.length; i = i + 1) {\n            this.ctx.beginPath();\n            this.ctx.moveTo(this.center.x, this.center.y);\n            const color: string = this.config.colors[i];\n            const item: IPieData = data[i];\n            this.ctx.lineTo(item.x, item.y);\n            this.ctx.fillStyle = color;\n            this.ctx.arc(\n                this.center.x,\n                this.center.y,\n                this.pieWidth,\n                item.start,\n                item.end,\n                false,\n            );\n            this.ctx.fill();\n            this.ctx.closePath();\n        }\n\n        this.renderFill();\n        this.ctx.restore();\n\n        if (fn) {\n            fn.call(this);\n        }\n    }\n\n    private renderWithFrame(): void {\n        requestAnimationFrame(() => {\n            if (this.renderFrameData.length) {\n                this.renderWithNoFrame(\n                    this.renderFrameData.shift(),\n                    this.renderWithFrame,\n                );\n            }\n        });\n    }\n\n    /**\n     * 绘制饼图中心区域\n     */\n    private renderFill(): void {\n        if (!this.config.fill) {\n            return;\n        }\n\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.fillStyle = 'white';\n        this.ctx.arc(\n            this.center.x,\n            this.center.y,\n            this.pieWidth - this.pieCircularWidth,\n            0,\n            Math.PI * 2,\n            false,\n        );\n        this.ctx.fill();\n        this.ctx.closePath();\n        this.ctx.restore();\n    }\n}\n","/**\n * @desc 比例图\n */\n\nimport Chart from '@/core/chart';\nimport {\n    enumRenderType,\n    IPoint,\n    IRadiusConf,\n    IRadiusConfig,\n} from '@/lib/interface';\n\n/**\n * default class\n */\nexport default class Radius extends Chart {\n    public config: IRadiusConfig;\n\n    private data: number;\n    private ankle: number = 0;\n    private center: IPoint;\n    private pieWidth: number;\n    private pieCircularWidth: number = 10;\n\n    constructor(config: IRadiusConf) {\n        super(\n            { ...config },\n            {\n                color: 'red',\n                pieColor: '#ccc',\n            },\n        );\n    }\n\n    public update(data: number): Radius {\n        this.data = data;\n        this.ankle = (data / 100) * Math.PI * 2;\n        this.center = {\n            x: (this.config.width / 2 - this.config.padding) * this.pixelRatio,\n            y: (this.config.height / 2 - this.config.padding) * this.pixelRatio,\n        };\n        this.pieWidth =\n            (Math.min(this.config.width, this.config.height) / 2 -\n                this.config.padding) *\n            this.pixelRatio;\n\n        return this;\n    }\n\n    public render(): Radius {\n        if (this.config.renderType === enumRenderType.none) {\n            this.renderWithNoFrame();\n        }\n\n        return this;\n    }\n\n    private renderWithNoFrame(): void {\n        this.reset();\n        this.ctx.save();\n        this.axiesChange();\n\n        this.ctx.beginPath();\n        this.ctx.moveTo(this.center.x, this.center.y);\n        this.ctx.fillStyle = this.config.pieColor;\n        this.ctx.arc(\n            this.center.x,\n            this.center.y,\n            this.pieWidth,\n            0,\n            Math.PI * 2,\n            false,\n        );\n        this.ctx.fill();\n        this.ctx.closePath();\n\n        this.renderColor();\n        this.renderFill();\n        this.ctx.restore();\n    }\n\n    private renderColor(): void {\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.moveTo(this.center.x, this.center.y);\n        this.ctx.fillStyle = this.config.color;\n        this.ctx.arc(\n            this.center.x,\n            this.center.y,\n            this.pieWidth,\n            0,\n            this.ankle,\n            false,\n        );\n        this.ctx.fill();\n        this.ctx.closePath();\n        this.ctx.restore();\n    }\n\n    /**\n     * 绘制中心区域\n     */\n    private renderFill(): void {\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.fillStyle = 'white';\n        this.ctx.arc(\n            this.center.x,\n            this.center.y,\n            this.pieWidth - this.pieCircularWidth,\n            0,\n            Math.PI * 2,\n            false,\n        );\n        this.ctx.fill();\n        this.ctx.closePath();\n        this.ctx.restore();\n    }\n}\n","/**\n * @description entry\n */\nimport line from '@/core/line';\nimport bar from '@/core/bar';\nimport pie from '@/core/pie';\nimport radius from '@/core/radius';\n\nexport default {\n    line,\n    bar,\n    pie,\n    radius,\n    Line: line,\n    Bar: bar,\n    Pie: pie,\n    Radius: radius,\n};\n"],"names":["enumRenderType","hookName","hook","window","hasInstall","debuggerMode","debuggerData","hookInstall","emit","setDebuggerData","__Canvas_Screen_Data","hookDispatch","addDebuggerData","obj","item","fItem","find","v","id","push","baseDefault","none","config","defaultConf","base","attr","innerWidth","width","padding","innerHeight","height","canvasInit","animation","renderType","insert","getName","dom","appendChild","canvas","ctx","scale","translate","pixelRatio","undefined","document","createElement","body","querySelector","getContext","devicePixelRatio","style","name","constructor","vector","value","getValue","vec","Vector","x","y","isSqrt","Math","sqrt","pow","normaliz","result","acos","dot","mod","PI","p1","p2","arr","n","map","_createClass$1","_classCallCheck$1","_createClass","_classCallCheck","path","getBezierList","P0","P1","P2","P3","rate1","rate2","length","outPath","i","controlP","getControl","max","min","frame","savePathCatmullRom","u","u3","u2","f1","f2","f3","f4","nodesLeft","interpolatedPosition","smoothType","catumulRom","point","pointFill","data","fill","marginX","maxY","minY","rateY","pointList","lengthList","frameList","last","p","getLength","concat","Animation","renderTime","renderCurve","getList","framePerSecond","total","getTotal","renderAttr","renderNoAnimation","frameRender","pL","lineCap","lineWidth","shadowColor","beginPath","strokeStyle","moveTo","lineTo","stroke","closePath","color","fillStyle","reset","axiesChange","save","pList","smooth","catmullRom","renderFill","renderStrike","restore","renderPoint","len","shift","getPointByFrame","bezierSmooth","bezierCurveTo","radius","pointRadius","arc","list","index","val","rate","slice","Chart","maxBarWidth","aveBarWidth","barWidth","heightList","renderWidthNoFrame","renderWidthFrame","colors","renderRadius","barRadius","renderData","renderFrameData","center","pieWidth","pieCircularWidth","reduce","a","b","items","start","end","cos","sin","j","t","renderWithNoFrame","renderWithFrame","fn","call","ankle","pieColor","renderColor","line","bar","pie"],"mappings":"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"}